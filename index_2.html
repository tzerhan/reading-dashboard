<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>3D Reading Dashboard</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      background: #111;
      font-family: 'Helvetica Neue', sans-serif;
      color: white;
    }
    canvas {
      display: block;
    }
    .label {
      position: absolute;
      color: white;
      font-size: 14px;
      font-weight: 600;
      text-align: center;
      pointer-events: auto;
      padding: 0.3rem 0.6rem;
      background: rgba(0,0,0,0.6);
      border-radius: 6px;
      transition: transform 0.2s;
    }
    .label:hover {
      transform: scale(1.1);
      background: rgba(0,0,0,0.85);
    }
  </style>
</head>
<body>
  <canvas id="sphereCanvas"></canvas>

  <script>
    const sites = [
      { name: "The Guardian", url: "https://www.theguardian.com" },
      { name: "NY Times", url: "https://www.nytimes.com" },
      { name: "BBC News", url: "https://www.bbc.com/news" },
      { name: "Al Jazeera", url: "https://www.aljazeera.com" },
      { name: "Reuters", url: "https://www.reuters.com" },
      { name: "AP News", url: "https://apnews.com" },
      { name: "Wired", url: "https://www.wired.com" },
      { name: "The Verge", url: "https://www.theverge.com" },
      { name: "MIT Tech Review", url: "https://www.technologyreview.com" },
      { name: "Rest of World", url: "https://restofworld.org" },
      { name: "Ars Technica", url: "https://arstechnica.com" },
      { name: "TechDirt", url: "https://www.techdirt.com" },
      { name: "The Economist", url: "https://www.economist.com" },
      { name: "The Atlantic", url: "https://www.theatlantic.com" },
      { name: "Foreign Affairs", url: "https://www.foreignaffairs.com" },
      { name: "Jacobin", url: "https://jacobin.com" },
      { name: "National Review", url: "https://www.nationalreview.com" },
      { name: "The American Prospect", url: "https://prospect.org" },
      { name: "Nature", url: "https://www.nature.com" },
      { name: "Quanta", url: "https://www.quantamagazine.org" },
      { name: "Scientific American", url: "https://www.scientificamerican.com" },
      { name: "Aeon", url: "https://aeon.co" },
      { name: "Undark", url: "https://undark.org" },
      { name: "Science News", url: "https://www.sciencenews.org" },
      { name: "The Conversation", url: "https://theconversation.com" }
    ];

    const canvas = document.getElementById("sphereCanvas");
    const ctx = canvas.getContext("2d");
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    const center = { x: canvas.width / 2, y: canvas.height / 2 };
    const radius = Math.min(center.x, center.y) * 0.6;
    const labels = [];

    sites.forEach((site, i) => {
      const el = document.createElement("div");
      el.className = "label";
      el.innerHTML = `<a href="${site.url}" target="_blank" style="color:white; text-decoration:none;">${site.name}</a>`;
      document.body.appendChild(el);
      labels.push({ el, theta: 2 * Math.PI * i / sites.length, phi: Math.PI * (i % 2 ? 1 : 0.5) });
    });

    let mouseX = 0, mouseY = 0;
    document.addEventListener("mousemove", e => {
      mouseX = (e.clientX / window.innerWidth - 0.5) * 2;
      mouseY = (e.clientY / window.innerHeight - 0.5) * 2;
    });

    function animate() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      const time = Date.now() * 0.001;

      labels.forEach((label, i) => {
        const theta = label.theta + mouseX;
        const phi = label.phi + mouseY + time * 0.1;

        const x = radius * Math.sin(phi) * Math.cos(theta);
        const y = radius * Math.sin(phi) * Math.sin(theta);
        const z = radius * Math.cos(phi);

        const scale = 0.5 + (z / radius + 1) / 2;
        const x2d = center.x + x;
        const y2d = center.y + y;

        label.el.style.transform = `translate(-50%, -50%) scale(${scale})`;
        label.el.style.left = `${x2d}px`;
        label.el.style.top = `${y2d}px`;
        label.el.style.zIndex = Math.floor(z);
        label.el.style.opacity = scale;
      });

      requestAnimationFrame(animate);
    }

    animate();
  </script>
</body>
</html>
